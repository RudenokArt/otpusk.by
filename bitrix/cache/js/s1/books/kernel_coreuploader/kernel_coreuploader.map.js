{"version":3, "file":"kernel_coreuploader.js", "sections": [{"offset": { "line": 6, "column": 0 }, "map": {"version":3,"file":"/bitrix/js/main/core/core_uploader/common.min.js","sources":["/bitrix/js/main/core/core_uploader/common.js"],"names":["window","BX","UploaderLog","UploaderDebug","statuses","new","ready","preparing","inprogress","done","failed","stopped","changed","uploaded","UploaderUtils","getId","Date","valueOf","Math","round","random","log","console","arguments","push","Hash","this","length","items","order","i","type","isArray","data","setItem","getFileNameOnly","name","delimiter","start","lastIndexOf","finish","substring","indexOf","isImageExt","ext","message","isNotEmptyString","RegExp","test","isImage","size","isNumber","parseInt","substr","toLowerCase","scaleImage","arSourceSize","arSize","resizeType","sourceImageWidth","sourceImageHeight","width","height","res","bNeedCreatePicture","source","x","y","destin","DoNothing","ResizeCoeff","iResizeCoeff","max","min","coeff","dataURLToBlob","dataURL","marker","parts","contentType","raw","rawLength","split","Blob","atob","uInt8Array","Uint8Array","charCodeAt","sizeof","obj","key","hasOwnProperty","toString","FormToArray","form","ajax","prepareForm","getFormattedSize","precision","a","pos","bindEvents","event","func","funcs","ii","eval","addCustomEvent","applyFilePart","file","blob","isDomNode","uploadStatus","blobed","package","packages","getFilePart","firstChunk","MaxFilesize","chunkSize","end","chunk","MozBlobBuilder","WebKitBlobBuilder","BlobBuilder","ceil","mozSlice","webkitSlice","slice","Slice","makeAnArray","files","props","jj","appendToForm","fd","val","append","FormData","Uploader","getInstanceName","FormDataLocal","prepareData","arData","util","urlencode","uniqueID","floor","local","create","id","method","enctype","encoding","style","display","document","body","appendChild","prototype","value","readFile","callback","fileReader","FileReader","onload","onerror","getIds","getQueue","array_search","getByOrder","getItem","removeItem","in_key","tmp_value","number","pointer","deleteFromArray","unshiftItem","in_value","unshift","hasItem","insertBeforeItem","after_key","splice","getFirst","item","getNext","getPrev","reset","setPointer","getLast"],"mappings":"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"}},{"offset": { "line": 10, "column": 0 }, "map": {"version":3,"file":"/bitrix/js/main/core/core_uploader/uploader.min.js","sources":["/bitrix/js/main/core/core_uploader/uploader.js"],"names":["window","BX","statuses","new","ready","preparing","inprogress","done","failed","error","stopped","changed","uploaded","repo","settings","phpPostMinSize","phpUploadMaxFilesize","phpPostMaxSize","estimatedTimeForUploadFile","maxTimeForUploadFile","Uploader","params","ii","debug","message","parseInt","phpMaxFileUploads","this","fileInput","controlID","controlId","dialogName","id","Math","random","CID","UploaderUtils","getId","streams","UploaderStreams","limits","min","uploadMaxFilesize","uploadFileWidth","uploadFileHeight","allowUpload","allowUploadExt","keys","length","CEF","ext","split","indexOf","charAt","substr","join","init","initDropZone","hasOwnProperty","bindEvents","uploadFileUrl","form","getAttribute","status","fileFields","fileCopies","queueFields","queue","UploaderQueue","addCustomEvent","delegate","item","node","create","props","type","name","value","hash","appendChild","parentNode","insertBefore","file","data","preparePost","mode","ajax","get","onCustomEvent","uploads","Hash","upload","__beforeunload","terminate","e","confirmationMessage","event","returnValue","bind","prototype","log","mkFileInput","onChange","text","dropZone","DD","isDomNode","dropFiles","supported","FormData","isSupported","f","dragEnter","isFileTransfer","i","addClass","DIV","dragLeave","removeClass","onAttach","files","nodes","clear","isArray","result","j","push","added","pop","isNotEmptyString","toLowerCase","submit","PreventDefault","target","disabled","DoNothing","oldNode","unbindAll","cloneNode","adjust","attrs","multiple","accept","removeChild","prepareForm","post","post2","AJAX_POST","FormToArray","filesCount","size","sizeof","bitrix_sessid","inputName","start","stop","adjustProcess","streamId","pIndex","percent","itFailed","hasItem","progress","setItem","itForUpload","removeItem","itUploaded","percentPerChunk","packages","chunks","getThumbs","packageFormer","packagesFormer","getFirst","UploaderPackage","proxy","stream","pack","proc","restoreFiles","res","checkUploads","procent","getItem","getItems","items","restoreItems","apply","arguments","deleteFile","UploaderSimple","superclass","constructor","previews","setTimeout","onFileNeedsPreview","raw","getIds","dealWithFile","extend","del","srcElement","~name","copy","url","uploadStatus","nonProcessRun","onFileNeedsPreviewCallback","Blob","objName","getInstanceName","getInstance","eval","manager","packageIndex","startSize","_exec","exec","checkFile","getFormattedSize","packStream","filesSize","fd","appendToForm","prepareData","postName","thumb","package","append","action","packFiles","count","postSize","blob","tmp","callback","cf","getProps","fileConstructor","Object","toString","call","canvas","getFilePart","applyFilePart","shift","makeAnArray","__onAllStreamsAreKilled","removeCustomEvent","reinit","doneStream","errorStream","progressStream","preparationStatus","startStreaming","send","sended","kill","adjustPostSize","increase","sugestedSize","deltaTime","xhr","finishTime","startTime","ceil","max","merge","ar1","ar2","jj","response","ij","copies","reset","getNext","err","unshiftItem","defaultTextError","UploaderStream","_id","streamsManager","_onsuccess","onsuccess","_onfailure","onfailure","_onerror","onerror","_onprogress","onprogress","local","util","htmlspecialcharsback","test","replace","parseJSON","method","dataType","processData","timeout","addEventListener","d","Date","getTime","sessid","path","location","pathname","lengthComputable","loaded","restore","uploader","killedStreams","_restore","_kill","handler","defer_proxy"],"mappings":"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"}},{"offset": { "line": 16, "column": 0 }, "map": {"version":3,"file":"/bitrix/js/main/core/core_uploader/file.min.js","sources":["/bitrix/js/main/core/core_uploader/file.js"],"names":["window","BX","statuses","new","ready","preparing","inprogress","done","failed","stopped","changed","uploaded","cnvConstr","timelimit","this","timeLimit","status","queue","UploaderUtils","Hash","prototype","image","getImage","Image","canvas","getCanvas","create","context","getContext","reader","getReader","FileReader","load","file","callback","id","callbackFail","unbindAll","onload","onerror","src","delegate","proxy_context","e","debug","removeItem","setTimeout","proxy","exec","name","bind","res","Object","toString","call","__readerOnLoad","target","result","readAsDataURL","push","failCallback","getId","setItem","item","getFirst","UploaderFileCnvConstr","fileLoader","_exec","xhr","goToNext","path","onsuccess","onfailure","_this","ajax","method","data","url","blob","start","preparePost","processData","withCredentials","responseType","send","UploaderFileFileLoader","prvw","upld","edtr","ctx","UploaderFile","params","limits","caller","dialogName","isNode","type","isDomNode","getFileNameOnly","value","test","tmp","bxuHandler","preview","nameWithoutExt","lastIndexOf","substr","ext","length","size","getFormattedSize","fields","thumb","tagName","template","editorTemplate","className","placeHolder","width","height","editorParams","events","click","clickFile","ij","key","ii","hasOwnProperty","toLowerCase","log","onCustomEvent","makePreview","preparationStatus","text","makeThumb","node","jj","indexOf","toUpperCase","setProps","replace","isNotEmptyString","html","patt","repl","undefined","shift","attrs","__makeThumbEventsObj","__makeThumbEvents","addCustomEvent","isString","__bindFileNode","cells","appendChild","rows","checkProps","el2","FormToArray","elements","val","bReturn","fii","fjj","el","hiddenForm","style","display","_checkProps","innerHTML","hasAttribute","setAttribute","blur","remove","getPH","getProps","copies","copy","getNext","getThumbs","deleteFile","UploaderImage","superclass","constructor","apply","arguments","isImage","Uploader","getInstanceName","parseInt","makeCopies","extend","makePreviewImageWork","adjust","props","drawImage","applyFile","res2","scaleImage","destin","makePreviewImageLoadHandler","_makePreviewImageLoadHandler","_makePreviewImageFailedHandler","makePreviewImageFailedHandler","_onFileHasGotPreview","removeCustomEvent","_onFileHasNotGotPreview","tmp_url","checkPreview","cnv","realScale","prvwScale","prvwProps","bNeedCreatePicture","source","x","y","dataURI","toDataURL","dataURLToBlob","__showEditor","showEditor","eFunc","delete","clear","editor","CanvasEditor","show","title","copyCanvas","canvases","pointer","getItem"],"mappings":"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"}},{"offset": { "line": 20, "column": 0 }, "map": {"version":3,"file":"/bitrix/js/main/core/core_uploader/queue.min.js","sources":["/bitrix/js/main/core/core_uploader/queue.js"],"names":["window","BX","statuses","new","ready","preparing","inprogress","done","failed","stopped","changed","uploaded","UploaderQueue","params","limits","caller","this","dialogName","phpPostMaxSize","phpUploadMaxFilesize","uploadMaxFilesize","uploadFileWidth","uploadFileHeight","placeHolder","showImage","sortItems","uploader","itForUpload","UploaderUtils","Hash","items","itUploaded","itFailed","thumb","tagName","className","ii","hasOwnProperty","addCustomEvent","delegate","addItem","finishQueue","deleteItem","reinitItem","log","prototype","showError","text","file","being","isImage","type","isDomNode","value","onCustomEvent","copies","fileCopies","fields","fileFields","res","UploaderImage","UploaderFile","children","node","itemStatus","status","setItem","id","thumbNode","makeThumb","create","attrs","bx-bxu-item-id","isNotEmptyString","replace","trim","replaceFunction","str","tdParams","tdInnerHTML","td","insertCell","colspan","headers","accesskey","class","contenteditable","contextmenu","dir","hidden","lang","spellcheck","style","tabindex","title","translate","param","innerHTML","split","pop","length","setAttribute","regex","data1","test","adjust","_onbxdragstart","onbxdragstart","_onbxdragstop","onbxdragstop","_onbxdrag","onbxdrag","_onbxdraghout","onbxdraghout","_onbxdestdraghover","onbxdestdraghover","_onbxdestdraghout","onbxdestdraghout","_onbxdestdragfinish","onbxdestdragfinish","addClass","jsDD","registerObject","registerDest","appendChild","getItem","item","proxy_context","getAttribute","template","RegExp","__dragCopyDiv","position","zIndex","width","clientWidth","html","__dragCopyPos","pos","document","body","c","c1","it","canvas","cloneNode","parentNode","replaceChild","getContext","drawImage","removeClass","removeChild","x","y","div","deltaX","left","deltaY","top","currentNode","hasClass","obj","n","childNodes","j","number","hasItem","act","nextSibling","buff","removeItem","insertBeforeItem","insertBefore","pointer","onmousedown","__bxpos","arObjects","__bxddid","arDestinations","__bxddeid","unbindAll","firstChild","remove","clear","getFirst","restoreFiles","data","restoreError","restoreUpload","reset","copy","getNext"],"mappings":"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"}}]}